## PostgreSQL Database Configuration
# Provided full URI:
# postgresql://fuentes:P20UcEQKk2leNfEo4grkOvTek3nH2bpz@dpg-d2vmgln5r7bs73ajhcu0-a.oregon-postgres.render.com/fuentes

# Spring Boot prefers JDBC URL, so we convert the above URI accordingly
# Prefer env vars; uses JDBC_DATABASE_URL if present, otherwise DATABASE_URL, otherwise the default value below
spring.datasource.url=${JDBC_DATABASE_URL:${DATABASE_URL:jdbc:postgresql://dpg-d2vmgln5r7bs73ajhcu0-a.oregon-postgres.render.com:5432/fuentes?sslmode=require&user=fuentes&password=P20UcEQKk2leNfEo4grkOvTek3nH2bpz}}

## JPA/Hibernate Configuration
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update

## Actuator Configuration
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always


management.datadog.metrics.export.api-key=2a2041e18c844801dbaa09f884aa26d2
management.datadog.metrics.export.step=30s
management.datadog.metrics.export.descriptions=true

# Micrometer HTTP metrics distribution
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.percentiles.http.server.requests=0.5,0.9,0.95,0.99

## DevTools Configuration
spring.devtools.restart.enabled=true

 

# AMQP Messaging (RabbitMQ) - optional
# Enable to consume nuevos hechos desde una cola/topic
amqp.enabled=${AMQP_ENABLED:true}
amqp.uri=${CLOUDAMQP_URL:amqps://uzjgduzd:kXrCPfc2k8hmmYoDia1FRc1i6zMMtzzn@jackal.rmq.cloudamqp.com/uzjgduzd}
amqp.exchange=${AMQP_EXCHANGE:hechos.exchange}
amqp.exchange.type=${AMQP_EXCHANGE_TYPE:topic}
amqp.queue=${AMQP_QUEUE:hechos.queue}
amqp.routing-key=${AMQP_ROUTING_KEY:hecho.created}

